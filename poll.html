<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
   <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
   <link href="favicon.ico" rel="shortcut icon">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.12.9/sweetalert2.all.js"></script>
  <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
  <title>CPF Seminar Poll</title>
</head>
  <style>
    body {
      background-color: black;
    }

    .cpf_logo {
      width: 250px;
      margin: 10px;
    }

    .bg-blue {
      background: -moz-linear-gradient(top, rgba(30,87,153,1) 0%, rgba(125,185,232,0) 100%); /* FF3.6-15 */
background: -webkit-linear-gradient(top, rgba(30,87,153,1) 0%,rgba(125,185,232,0) 100%); /* Chrome10-25,Safari5.1-6 */
background: linear-gradient(to bottom, rgba(30,87,153,1) 0%,rgba(125,185,232,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#1e5799', endColorstr='#007db9e8',GradientType=0 ); /* IE6-9 */
    }

    .programming {
      background: linear-gradient(rgba(0, 0, 0, 255), rgba(0, 0, 0, 0.2)), url("http://i.imgur.com/62RS0C8.gif") fixed center center;
    }

    .animation {
      /* https://media.giphy.com/media/A2MFkRZvpOHTy/giphy.gif */
            background: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url("https://media.giphy.com/media/A2MFkRZvpOHTy/giphy.gif");

    }

    .window_widget  {-moz-transition: all 0.3s;-webkit-transition: all 0.3s;transition: all 0.3s;}
.window_widget:hover  {-moz-transform: scale(1.1);-webkit-transform: scale(1.1);transform: scale(1.1);cursor:pointer;}

    #ok {
      width: 100%;
      height: 100vh;
      display: none;
    }


    #login {
      width: 100%;
      height: 100vh;
     background: linear-gradient(rgba(0, 0, 0, 255), rgba(0, 0, 0, 0.2)), url("https://www.splitshire.com/wp-content/uploads/2014/09/SplitShire_Blur_Background_XVI-1800x1200.jpg");

    }

    .bg-blur {
      background-color: rgba(0,120,250,0.1);
    }

   #poll {
 display:none;
}

.loader {
	position: fixed;
	left: 0px;
	top: 0px;
	width: 100%;
	height: 100%;
	z-index: 9999;
	background-color:black;
}
  </style>
<body>
  <div class="loader">
       <center>
            <img src="loading.gif" style="margin-top:15%">
       </center>
  </div>

  <div class="w3-top">
    <div class="w3-bar bg-blue">
<img src="https://centerforpositivefutures.github.io/cpf2/img/cpflogo.png" class="cpf_logo">
      <h4 class="w3-bar-item w3-right w3-text-white w3-margin" id="banner">Welcome to the CPF Seminar Poll!</h4>
    </div>
    </div>
   <div id="login" class="w3-text-white">
    <br>
     <br>
     <br>
     <br>
    <center>
      <div class="w3-round bg-blur w3-card-4" style="width:530px;">
           <div class="w3-margin w3-padding">
             <img src="https://centerforpositivefutures.github.io/cpf2/img/cpflogo.png" class="cpf_logo">
             <hr>
             <input id="student" class="w3-input w3-round w3-border" placeholder="Student Name:" onkeyup="student=this.value">
             <br>
             <p>Select your Campus:</p>
             <div class="w3-padding">
             <input type="radio" id="Montalban" onclick="campusName=this.id">
             <label for="Montalban">CPF Montalban</label>
             <input type="radio" id="Taguig" onclick="campusName=this.id">
             <label for="Taguig">CPF Taguig</label>
             <input type="radio" id="ne" onclick="campusName=this.id">
             <label for="ne">CPF Nueva Ecija</label>
             <br>
             <br>
             <br>
             <button class="w3-indigo w3-btn w3-round" onclick="login(student,campusName)">Proceed</button>
        </div>
        <div>
    </center>
    </div>

  <!--it-->

   <div class="w3-row w3-text-white w3-animate-opacity" id="poll">
  <div class="w3-col s6 programming w3-center window_widget" style="height:100vh">
    <div style="margin-top: 120px;">
        <br>
        <br>
    <h1>Information Technology + Robotics + Electronics</h1>
      <br>
      <br>
      <button class="w3-btn w3-indigo w3-round" name="1" onclick="choice(this.name)">I want to learn this!</button>
      <br>
      <br>
      <button class="w3-btn w3-amber w3-round" name="2" onclick="choice(this.name)">what is this about?</button>
    </div>
     </div>
     <!--animation-->
  <div class="w3-col s6 animation w3-center window_widget" style="height:100vh">
    <div style="margin-top: 120px;">
        <br>
        <br>
    <h1>3d Animation and Modeling</h1>
      <br><br>
      <button class="w3-btn w3-purple w3-round" name="3" onclick="choice(this.name)">I want to learn this!</button>
      <br>
      <br>
      <button class="w3-btn w3-amber w3-round" name="4" onclick="choice(this.name)">what is this about?</button>
    </div>
  </div>
</div>

  <div id="ok" class="w3-indigo w3-animate-opacity">
    <center>

      <h1 style="padding:120px;" id="doneBanner"></h1>
    </center>
    </div>

    <iframe id="axios" style="display:none;" src=""></iframe>

      <script>

        var student;
        var campusName;
        var DB;
        // $('#axios').load('./students.xdb');
        window.onload = function() {
           $('.loader').delay(100).fadeOut('slow',function(){$(this).remove();});
            // DB=document.getElementById("axios").innerHTML.split("\n");
        }

    function parseUser(username){
       document.getElementById('banner').innerHTML = "Welcome!, "+username;
       document.getElementById('login').style.display = 'none';
       document.getElementById('poll').style.display = 'block';
     }
    //
    // function chkUser(userdata){
    //     var palindrome = userdata.split("-")[0].split(",").reverse().join("")+"-"+userdata.split("-")[1];
    //         if(DB.indexOf(userdata) > -1||DB.indexOf(palindrome) > -1){
    //           return true;
    //         }else{
    //           return false;
    //         }
    //      }


        function login(sname,campus) {
           if (sname&&campus){
             if(campus == "ne") {
               campusName = "Nueva Ecija";
             }
             // check if student exist
           //   var data = sname.split(" ").join("").toUpperCase()+"-"+campusName.split(" ").join("").toUpperCase();
           //   if(chkUser(data)==true){
           //        parseUser(sname);
           //     }else{
           //       swal("Sorry","this program might not be available to you, please try again.","info");
           //     }
           // }else{
           //   swal("Oops!","please enter your 'Full Name' , pick your campus and try again","info")
           // }
           if(sname == localStorage.getItem('voted')){
              voteDone();
           }else{
           parseUser(sname,campus)
          }
        }
      }

        function choice(item) {
          switch(item){
            case "1":
              submitter("IT/Robotics/Electronics");
              break;
            case "2":
              // about programing
              swal({
    width:1000,
    html:
      '<img style="border-radius:10px;height:350px;width:100%" class="pt-3 w3-card-4" src="https://imasters.com/wp-content/uploads/sites/24/2016/09/7_Navegando.gif">'+
       '<br><p class="w3-text-grey"><b class="w3-text-indigo">Ignite your Creative and Inventive Energy! </b>Learn about Information Technology, Web Design, Networking, Computer Security Electronics and Robotics!<br> Ideal for IT students and Engineering students but <b class="w3-text-indigo">Everyone</b> is welcome, you can learn this! :)<p>',
    showCloseButton: true,
    focusConfirm: false,
    confirmButtonText:
      '<i class="fa fa-thumbs-up"></i> Great!',
    confirmButtonAriaLabel: 'Thumbs up, great!',
    })
              break;
           case "3":
              submitter("3d Animation");
              break;
           case "4":
             //about Animation
             swal({
   width:1000,
   html:
     '<img width="100%" height="480" class="pt-3" src="https://orig00.deviantart.net/e883/f/2015/239/2/2/_gif__gry_3d_model_by_witacha_asukata-d97dvni.gif"><br><p class="w3-text-grey">Learn 3d Animation and Modeling and empower with the power of 3d computer graphics</p>',
   showCloseButton: true,
   focusConfirm: false,
   confirmButtonText:
     '<i class="fa fa-thumbs-up"></i> Great!',
   confirmButtonAriaLabel: 'Thumbs up, great!',
 })
              break;

          }
        }

        function submitter(choice) {
           var axios = document.getElementById("axios");
           if(choice == "IT/Robotics/Electronics") {
             axios.src = "http://nomad-bs.000webhostapp.com/cpf-seminar-api.php?student="+student+"&campus="+campusName+"&vote=mechatronics";
             voteDone();
          }else{
              axios.src = "http://nomad-bs.000webhostapp.com/cpf-seminar-api.php?student="+student+"&campus="+campusName+"&vote=animation";
             voteDone();
            }
        }

    function voteDone(){
       document.getElementById("login").style.display = "none";
       document.getElementById("poll").style.display = "none";
       document.getElementById("ok").style.display = "block";
       localStorage.setItem('voted',student);
       document.getElementById('doneBanner').innerHTML = "Thank you for voting, "+student+"! <br><p>your vote has been saved. please share this with your classmates :)</p>"
     }


  </script>

    </body>
</html>
